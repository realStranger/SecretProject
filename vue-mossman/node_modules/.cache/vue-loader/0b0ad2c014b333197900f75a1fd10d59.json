{"remainingRequest":"/Users/bokus/Desktop/secretproject/bitrix/local/vue-mossman/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bokus/Desktop/secretproject/bitrix/local/vue-mossman/src/components/History.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/bokus/Desktop/secretproject/bitrix/local/vue-mossman/src/components/History.vue","mtime":1594811365151},{"path":"/Users/bokus/Desktop/secretproject/bitrix/local/vue-mossman/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bokus/Desktop/secretproject/bitrix/local/vue-mossman/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bokus/Desktop/secretproject/bitrix/local/vue-mossman/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/bokus/Desktop/secretproject/bitrix/local/vue-mossman/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bokus/Desktop/secretproject/bitrix/local/vue-mossman/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBwYWdlck1peGluIGZyb20gJy4uL21peGlucy9QYWdlci52dWUnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZSA6ICdIaXN0b3J5JywKICAgIG1vdW50ZWQgKCkgewogICAgICAgIHRoaXMubG9hZERhdGEoKTsKICAgIH0sCiAgICB3YXRjaCA6IHsKICAgICAgICBwYWdlTnVtICh2YWwsIG9sZFZhbCkgewogICAgICAgICAgICB0aGlzLmxvYWREYXRhKCk7CiAgICAgICAgfSwKICAgIH0sCiAgICBtaXhpbnMgOiBbCiAgICAgICAgcGFnZXJNaXhpbiwKICAgIF0sCiAgICBkYXRhIDogKCkgPT4gKHsKICAgICAgICBpdGVtcyA6IFtdLAogICAgfSksCiAgICBtZXRob2RzIDogewogICAgICAgIGxvYWREYXRhICgpIHsKICAgICAgICAgICAgQlguYWpheC5ydW5Db21wb25lbnRBY3Rpb24oJ3hwYWdlOmFqYXgnLCAnaGlzdG9yeUdldExpc3QnLCB7CiAgICAgICAgICAgICAgICBtb2RlIDogJ2NsYXNzJywKICAgICAgICAgICAgICAgIGRhdGEgOiB7CiAgICAgICAgICAgICAgICAgICAgcGFnZU51bSA6IHRoaXMucGFnZU51bSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHJlc3BvbnNlLmRhdGEuaXRlbXMgfHwgW107CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICB9LAp9Cg=="},{"version":3,"sources":["History.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"History.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"lc-body\">\n        <div class=\"lc__top\">\n            <div class=\"lc-select-cont\">\n                <form action=\"\">\n                    <div class=\"lc-select\">\n                        <select id=\"specialist\">\n                            <option value=\"spec-0\">Выбрать специалиста</option>\n                            <option value=\"spec-1\">Андрей Андреев</option>\n                            <option value=\"spec-2\">Дизайнер</option>\n                        </select>\n                    </div>\n                </form>\n            </div>\n        </div>\n        <div class=\"lc-history\">\n            <div class=\"lc-history__list\">\n                <div v-for=\"item in items\" :key=\"item.ID\" class=\"lc-history__item\">\n                    <div class=\"lc-history__title\">\n                        {{ item.USER_PROFESSION }} <a href=\"#\">{{ [ item.USER_SECOND_NAME, item.USER_NAME, item.USER_LAST_NAME ].filter(v=>v).join(' ') }}</a> {{ item.ACTION }}\n                        <a v-if=\"item.SOURCE\" href=\"#\"></a>\n                        <span v-else >{{ item.UF_SOURCE_NAME || item.UF_SOURCE_ID }}</span>\n                    </div>\n                    <div class=\"lc-history__date\">{{ item.UF_DATETIME }}</div>\n                </div>\n            </div>\n            <pagination v-if=\"pagesCnt > 1\" v-model=\"pageNum\" :pages-cnt=\"pagesCnt\" ></pagination>\n        </div>\n    </div>\n</template>\n\n<script>\nimport pagerMixin from '../mixins/Pager.vue';\n\nexport default {\n    name : 'History',\n    mounted () {\n        this.loadData();\n    },\n    watch : {\n        pageNum (val, oldVal) {\n            this.loadData();\n        },\n    },\n    mixins : [\n        pagerMixin,\n    ],\n    data : () => ({\n        items : [],\n    }),\n    methods : {\n        loadData () {\n            BX.ajax.runComponentAction('xpage:ajax', 'historyGetList', {\n                mode : 'class',\n                data : {\n                    pageNum : this.pageNum,\n                },\n            }).then(response => {\n                this.items = response.data.items || [];\n            });\n        },\n    },\n}\n</script>\n"]}]}