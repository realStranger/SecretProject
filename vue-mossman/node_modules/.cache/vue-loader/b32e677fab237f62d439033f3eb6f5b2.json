{"remainingRequest":"/Users/bokus/Desktop/secretproject/bitrix/local/vue-mossman/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bokus/Desktop/secretproject/bitrix/local/vue-mossman/src/components/ClaimList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/bokus/Desktop/secretproject/bitrix/local/vue-mossman/src/components/ClaimList.vue","mtime":1595917309587},{"path":"/Users/bokus/Desktop/secretproject/bitrix/local/vue-mossman/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/bokus/Desktop/secretproject/bitrix/local/vue-mossman/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bokus/Desktop/secretproject/bitrix/local/vue-mossman/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgcGFnZXJNaXhpbiBmcm9tICcuLi9taXhpbnMvUGFnZXIudnVlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdDbGFpbUxpc3QnLAogICAgbW91bnRlZCAoKSB7CiAgICAgICAgdGhpcy5sb2FkRGF0YSgpOwogICAgfSwKICAgIHdhdGNoIDogewogICAgICAgIHBhZ2VOdW0gKHZhbCwgb2xkVmFsKSB7CiAgICAgICAgICAgIHRoaXMubG9hZERhdGEoKTsKICAgICAgICB9LAogICAgfSwKICAgIG1peGlucyA6IFsKICAgICAgICBwYWdlck1peGluLAogICAgXSwKICAgIGRhdGEgOiAoKSA9PiAoewogICAgICAgIGl0ZW1zIDogW10sCiAgICB9KSwKICAgIG1ldGhvZHMgOiB7CiAgICAgICAgbG9hZERhdGEgKCkgewogICAgICAgICAgICBCWC5hamF4LnJ1bkNvbXBvbmVudEFjdGlvbigneHBhZ2U6YWpheCcsICdjbGFpbXNHZXRMaXN0JywgewogICAgICAgICAgICAgICAgbW9kZSA6ICdjbGFzcycsCiAgICAgICAgICAgICAgICBkYXRhIDogewogICAgICAgICAgICAgICAgICAgIHBhZ2VOdW0gOiB0aGlzLnBhZ2VOdW0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMgPSByZXNwb25zZS5kYXRhLml0ZW1zIHx8IFtdOwogICAgICAgICAgICAgICAgdGhpcy5wYWdlc0NudCA9ICtyZXNwb25zZS5kYXRhLnBhZ2VzQ250IHx8IDA7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICB9LAp9Cg=="},{"version":3,"sources":["ClaimList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ClaimList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div class=\"lc-body\">\n    <div class=\"lc__top\">\n        <a href=\"/lk/claims/?id=0\" class=\"lc-request-create\">Создать запрос</a>\n    </div>\n    <div class=\"lc-table\">\n        <div class=\"lc-table__list request-list\">\n            <div class=\"lc-table__head\">\n                <div class=\"lc-table__row\">\n                    <div class=\"lc-table__col col-number\">Номер запроса</div>\n                    <div class=\"lc-table__col col-date\">Дата запроса</div>\n                    <div class=\"lc-table__col col-responsible\">Ответственный</div>\n                    <div class=\"lc-table__col col-date-2\">Дата ответа</div>\n                    <div class=\"lc-table__col col-btn\"></div>\n                </div>\n            </div>\n            <div v-for=\"item in items\" :key=\"item.ID\" class=\"lc-table__item request-item\" :class=\"{ 'lc-table__item--unread-messages' : item.hasUnreadMessages, }\" >\n                <div class=\"lc-table__row\">\n                    <div class=\"lc-table__col col-number\">\n                        <div class=\"request-number title\">Запрос №{{ item.UF_NUM }}</div>\n                    </div>\n                    <div class=\"lc-table__col col-date\"><span class=\"table__col-name\">Дата запроса:</span>{{ item.UF_DATE_ADDED }}</div>\n                    <div class=\"lc-table__col col-responsible\"><span class=\"table__col-name\">Ответственный:</span>{{ item.UF_RESPONSIBLE_NAME }}</div>\n                    <div class=\"lc-table__col col-date-2\"><span class=\"table__col-name\">Дата ответа:</span>{{ item.UF_DATE_RESPONSE }}</div>\n                    <div class=\"lc-table__col col-btn\">\n                        <a :href=\"`/lk/claims/?id=${item.ID}`\" class=\"btn lc-btn\">Подробнее</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <pagination v-if=\"pagesCnt > 1\" v-model=\"pageNum\" :pages-cnt=\"pagesCnt\" ></pagination>\n    </div>\n</div>\n</template>\n\n<script>\n\nimport pagerMixin from '../mixins/Pager.vue';\n\nexport default {\n    name: 'ClaimList',\n    mounted () {\n        this.loadData();\n    },\n    watch : {\n        pageNum (val, oldVal) {\n            this.loadData();\n        },\n    },\n    mixins : [\n        pagerMixin,\n    ],\n    data : () => ({\n        items : [],\n    }),\n    methods : {\n        loadData () {\n            BX.ajax.runComponentAction('xpage:ajax', 'claimsGetList', {\n                mode : 'class',\n                data : {\n                    pageNum : this.pageNum,\n                },\n            }).then(response => {\n                this.items = response.data.items || [];\n                this.pagesCnt = +response.data.pagesCnt || 0;\n            });\n        },\n    },\n}\n</script>\n"]}]}