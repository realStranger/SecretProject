{"remainingRequest":"/var/www/html/local/vue-mossman/node_modules/babel-loader/lib/index.js!/var/www/html/local/vue-mossman/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/local/vue-mossman/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/local/vue-mossman/src/components/OrderDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/local/vue-mossman/src/components/OrderDetail.vue","mtime":1604916327000},{"path":"/var/www/html/local/vue-mossman/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/local/vue-mossman/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/local/vue-mossman/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/local/vue-mossman/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7Cm1vbWVudC5sb2NhbGUoJ3J1Jyk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnT3JkZXJEZXRhaWwnLAogIHByb3BzOiB7CiAgICBpZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICB1c2VyRGF0YTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIG9yZGVyc0xpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgJChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLmN1ckRhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ0RELk1NLllZWVknKTsKICAgIH0pOwogICAgdGhpcy5vcmRlcklkID0gK3RoaXMuaWQ7CgogICAgaWYgKHRoaXMub3JkZXJJZCkgewogICAgICB0aGlzLmxvYWREYXRhKCk7CiAgICB9IGVsc2UgewogICAgICBpZiAodGhpcy51c2VyRGF0YS5kaXN0cmlidXRvcnMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy52YWx1ZXMuVUZfQ09OVFJBQ1RPUiA9IHRoaXMudXNlckRhdGEuZGlzdHJpYnV0b3JzWzBdLlVGX05BTUU7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnVzZXJEYXRhLmRpc3RyaWJ1dG9ycy5sZW5ndGgpIHsKICAgICAgICB0aGlzLnZhbHVlcy5VRl9DT05UUkFDVE9SX0NPREUgPSB0aGlzLnVzZXJEYXRhLmRpc3RyaWJ1dG9yc1swXS5VRl9DT0RFOwogICAgICB9CgogICAgICB0aGlzLmRhdGFMb2FkZWQgPSB0cnVlOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1ckRhdGU6ICcnLAogICAgICBwcm9jZXNzZWQ6IGZhbHNlLAogICAgICBvcmRlcklkOiAwLAogICAgICB2YWx1ZXM6IHsKICAgICAgICBVRl9UWVBFOiAnJywKICAgICAgICBVRl9DT05UUkFDVE9SOiAnJywKICAgICAgICBVRl9QUklNQVJZX09SREVSOiAnJywKICAgICAgICBVRl8zQ0FEX1NFUlZFUl9OVU06ICcnLAogICAgICAgIFVGXzNDQURfU0VSVkVSX0RBVEU6ICcnLAogICAgICAgIFVGX01PREVMOiAnJywKICAgICAgICBVRl9TSElQTUVOVF9BRERSRVNTOiAnJywKICAgICAgICBVRl9UUkFOU1BPUlRfQ09NUEFOWTogJycsCiAgICAgICAgVUZfQ09NTUVOVDogJycsCiAgICAgICAgVUZfRkFDVE9SWV9USVRMRTogJycsCiAgICAgICAgVUZfU1VNOiAnJywKICAgICAgICBVRl9BQ0NFUFRfTU5HUl9EQVRFOiAnJywKICAgICAgICBVRl9QUk9DRVNfTU5HUl9EQVRFOiAnJywKICAgICAgICBVRl9QUk9DRVNTX1RFQ0hfREFURTogJycsCiAgICAgICAgVUZfSU5WT0lDRV9OVU06ICcnLAogICAgICAgIFVGX0lOVk9JQ0VfREFURTogJycsCiAgICAgICAgVUZfSU5WT0lDRV9TVU06ICcnLAogICAgICAgIFVGX0lOVk9JQ0VfQUNQVF9EQVRFOiAnJywKICAgICAgICBVRl9BQ0NPVU5USU5HX0RBVEU6ICcnLAogICAgICAgIFVGX1BMQU5fREFURTogJycsCiAgICAgICAgVUZfUkVTUE9OU0lCTEVfTkFNRTogJycsCiAgICAgICAgVUZfUkVTUE9OU0lCTEVfUEhPTkU6ICcnLAogICAgICAgIFVGX1NUQVRVUzogJycsCiAgICAgICAgVUZfQUNDRVBURURfTUFOQUdFUjogJycsCiAgICAgICAgVUZfUFJPQ0VTU0VEX01BTkFHRVI6ICcnLAogICAgICAgIFVGX1BST0NFU1NFRF9URUNIOiAnJywKICAgICAgICBVRl9JTlZPSUNFX05BTUU6ICcnLAogICAgICAgIFVGX0lOVk9JQ0VfQUNQVF9OQU1FOiAnJywKICAgICAgICBVRl9BQ0NPVU5USU5HX05BTUU6ICcnLAogICAgICAgIFVGX0NPTlRSQUNUT1JfQ09ERTogJycsCiAgICAgICAgVUZfSU5ORVJfQ09ERTogJycsCiAgICAgICAgVUZfM0NBRF9TRVJWRVJfTlVNX05FVzogJycsCiAgICAgICAgVUZfQ0FOQ0VMRUQ6IDAsCiAgICAgICAgVUZfUEFVU0VEOiAwCiAgICAgIH0sCiAgICAgIG9yZGVyUHJvZHVjdHM6IFtdLAogICAgICBkYXRhTG9hZGVkOiBmYWxzZSwKICAgICAgc2VhcmNoVGltZW91dDogbnVsbCwKICAgICAgb3JkZXJGaWxlczogW10sCiAgICAgIHByaW1hcnlPcmRlcjogJycsCiAgICAgIHNvcnRUeXBlOiAn0JfQsNC60LDQtycKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY29udHJhY3RvckNvZGU6IGZ1bmN0aW9uIGNvbnRyYWN0b3JDb2RlKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZXMuVUZfQ09OVFJBQ1RPUl9DT0RFOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGNvbnRyYWN0b3JDb2RlOiBmdW5jdGlvbiBjb250cmFjdG9yQ29kZShjb2RlKSB7CiAgICAgIGlmIChjb2RlKSB7CiAgICAgICAgdmFyIGRpc3RyaWJ1dG9yID0gdGhpcy51c2VyRGF0YS5kaXN0cmlidXRvcnMuZmluZChmdW5jdGlvbiAobykgewogICAgICAgICAgcmV0dXJuIG8uVUZfQ09ERSA9PSBjb2RlOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoZGlzdHJpYnV0b3IpIHsKICAgICAgICAgIHRoaXMudmFsdWVzLlVGX0NPTlRSQUNUT1IgPSBkaXN0cmlidXRvci5VRl9OQU1FOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnZhbHVlcy5VRl9DT05UUkFDVE9SID0gJyc7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudmFsdWVzLlVGX0NPTlRSQUNUT1IgPSAnJzsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVjYWxjUHJvZHVjdFN1bTogZnVuY3Rpb24gcmVjYWxjUHJvZHVjdFN1bShwcm9kdWN0KSB7CiAgICAgIHZhciBzdW0gPSArcHJvZHVjdC5VRl9QUklDRSAqICtwcm9kdWN0LlVGX1FVQU5USVRZOwogICAgICBwcm9kdWN0LlVGX1NVTSA9IHN1bTsKICAgIH0sCiAgICBwcm9kdWN0U2VsZWN0OiBmdW5jdGlvbiBwcm9kdWN0U2VsZWN0KHByb2R1Y3QpIHsKICAgICAgaWYgKHByb2R1Y3QudmFyaWFudHMgJiYgcHJvZHVjdC52YXJpYW50cy5sZW5ndGgpIHsKICAgICAgICB2YXIgc2ltaWxhciA9IHByb2R1Y3QudmFyaWFudHMuZmlsdGVyKGZ1bmN0aW9uICh2YXJpYW50KSB7CiAgICAgICAgICByZXR1cm4gdmFyaWFudC5VRl9OQU1FID09IHByb2R1Y3QuVUZfTkFNRTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKHNpbWlsYXIubGVuZ3RoID09IDEpIHsKICAgICAgICAgIHByb2R1Y3QuVUZfUFJPRFVDVF9DT0RFID0gc2ltaWxhclswXS5VRl9DT0RFOwogICAgICAgICAgcHJvZHVjdC5VRl9BUlRJQ0xFID0gc2ltaWxhclswXS5VRl9BUlRJQ0xFOwoKICAgICAgICAgIGlmICghcHJvZHVjdC5VRl9QUklDRSkgewogICAgICAgICAgICBwcm9kdWN0LlVGX1BSSUNFID0gc2ltaWxhclswXS5VRl9QUklDRTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBwcm9kdWN0U2F2ZTogZnVuY3Rpb24gcHJvZHVjdFNhdmUocHJvZHVjdCkgewogICAgICB0aGlzLnByb2R1Y3RTZWxlY3QocHJvZHVjdCk7CiAgICAgIHByb2R1Y3QuZWRpdGFibGUgPSBmYWxzZTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBCWC5hamF4LnJ1bkNvbXBvbmVudEFjdGlvbigneHBhZ2U6YWpheCcsICdvcmRlckNhbmNlbCcsIHsKICAgICAgICBtb2RlOiAnY2xhc3MnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJJZAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIubG9hZERhdGEoKTsKICAgICAgfSk7CiAgICB9LAogICAgcGF1c2VUb2dnbGU6IGZ1bmN0aW9uIHBhdXNlVG9nZ2xlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIEJYLmFqYXgucnVuQ29tcG9uZW50QWN0aW9uKCd4cGFnZTphamF4JywgJ29yZGVyUGF1c2UnLCB7CiAgICAgICAgbW9kZTogJ2NsYXNzJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBvcmRlcklkOiB0aGlzLm9yZGVySWQsCiAgICAgICAgICBwYXVzZWQ6ICt0aGlzLnZhbHVlcy5VRl9QQVVTRUQgfHwgMAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMubG9hZERhdGEoKTsKICAgICAgfSk7CiAgICB9LAogICAgZmlsZVJlbW92ZTogZnVuY3Rpb24gZmlsZVJlbW92ZShmaWxlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKCFmaWxlLklEKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBCWC5hamF4LnJ1bkNvbXBvbmVudEFjdGlvbigneHBhZ2U6YWpheCcsICdvcmRlckZpbGVSZW1vdmUnLCB7CiAgICAgICAgbW9kZTogJ2NsYXNzJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBvcmRlcklkOiB0aGlzLm9yZGVySWQsCiAgICAgICAgICBmaWxlSWQ6IGZpbGUuSUQKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM0LmxvYWREYXRhKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGZpbGVJbnB1dENoYW5nZWQ6IGZ1bmN0aW9uIGZpbGVJbnB1dENoYW5nZWQoaW5wdXQpIHsKICAgICAgdGhpcy5vcmRlckZpbGVzID0gdGhpcy4kcmVmcy5PcmRlckZpbGVzLmZpbGVzOwogICAgfSwKICAgIHNlYXJjaFByb2R1Y3RzOiBmdW5jdGlvbiBzZWFyY2hQcm9kdWN0cyhvcmRlclByb2R1Y3QpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2VhcmNoVGltZW91dCk7CiAgICAgIG9yZGVyUHJvZHVjdC5VRl9BUlRJQ0xFID0gJyc7CiAgICAgIG9yZGVyUHJvZHVjdC5VRl9QUklDRSA9ICcnOwoKICAgICAgaWYgKG9yZGVyUHJvZHVjdC52YXJpYW50cy5sZW5ndGgpIHsKICAgICAgICB2YXIgc2ltaWxhciA9IG9yZGVyUHJvZHVjdC52YXJpYW50cy5maWx0ZXIoZnVuY3Rpb24gKHZhcmlhbnQpIHsKICAgICAgICAgIHJldHVybiB2YXJpYW50LlVGX05BTUUgPT0gb3JkZXJQcm9kdWN0LlVGX05BTUU7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChzaW1pbGFyLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICBvcmRlclByb2R1Y3QuVUZfUFJPRFVDVF9DT0RFID0gc2ltaWxhclswXS5VRl9DT0RFOwogICAgICAgICAgb3JkZXJQcm9kdWN0LlVGX0FSVElDTEUgPSBzaW1pbGFyWzBdLlVGX0FSVElDTEU7CiAgICAgICAgICBvcmRlclByb2R1Y3QuVUZfUFJJQ0UgPSBzaW1pbGFyWzBdLlVGX1BSSUNFOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKG9yZGVyUHJvZHVjdC5VRl9OQU1FLmxlbmd0aCA+PSAzKSB7CiAgICAgICAgdGhpcy5zZWFyY2hUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBCWC5hamF4LnJ1bkNvbXBvbmVudEFjdGlvbigneHBhZ2U6YWpheCcsICdzZWFyY2hQcm9kdWN0cycsIHsKICAgICAgICAgICAgbW9kZTogJ2NsYXNzJywKICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgIG5hbWU6IG9yZGVyUHJvZHVjdC5VRl9OQU1FCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgb3JkZXJQcm9kdWN0LnZhcmlhbnRzID0gcmVzcG9uc2UuZGF0YS5wcm9kdWN0czsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSwgMTAwMCk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRQcm9kdWN0OiBmdW5jdGlvbiBhZGRQcm9kdWN0KCkgewogICAgICB0aGlzLm9yZGVyUHJvZHVjdHMucHVzaCh7CiAgICAgICAgSUQ6ICdfJyArICtuZXcgRGF0ZSgpLAogICAgICAgIFVGX0FSVElDTEU6ICcnLAogICAgICAgIFVGX05BTUU6ICcnLAogICAgICAgIFVGX1FVQU5USVRZOiAnJywKICAgICAgICBVRl9QUklDRTogJycsCiAgICAgICAgVUZfU1VNOiAnJywKICAgICAgICBlZGl0YWJsZTogdHJ1ZSwKICAgICAgICB2YXJpYW50czogW10KICAgICAgfSk7CiAgICB9LAogICAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5vcmRlcklkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBCWC5hamF4LnJ1bkNvbXBvbmVudEFjdGlvbigneHBhZ2U6YWpheCcsICdvcmRlckdldCcsIHsKICAgICAgICBtb2RlOiAnY2xhc3MnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGlkOiB0aGlzLm9yZGVySWQKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM1LmRhdGFMb2FkZWQgPSB0cnVlOwogICAgICAgIF90aGlzNS5vcmRlclByb2R1Y3RzID0gW107CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS52YWx1ZXMpIHsKICAgICAgICAgICAgX3RoaXM1LiRzZXQoX3RoaXM1LCAndmFsdWVzJywgcmVzcG9uc2UuZGF0YS52YWx1ZXMpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm9yZGVyUHJvZHVjdHMpIHsKICAgICAgICAgICAgX3RoaXM1Lm9yZGVyUHJvZHVjdHMgPSByZXNwb25zZS5kYXRhLm9yZGVyUHJvZHVjdHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgaXRlbS5lZGl0YWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMucHJvY2Vzc2VkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnByb2Nlc3NlZCA9IHRydWU7CiAgICAgIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGRhdGEuYXBwZW5kKCdpZCcsIHRoaXMub3JkZXJJZCk7CiAgICAgIGRhdGEuYXBwZW5kKCd2YWx1ZXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLnZhbHVlcykpOwogICAgICBkYXRhLmFwcGVuZCgncHJvZHVjdHMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLm9yZGVyUHJvZHVjdHMpKTsKCiAgICAgIGlmICh0aGlzLm9yZGVyRmlsZXMubGVuZ3RoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9yZGVyRmlsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGRhdGEuYXBwZW5kKCdmaWxlc1tdJywgdGhpcy5vcmRlckZpbGVzW2ldKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIEJYLmFqYXgucnVuQ29tcG9uZW50QWN0aW9uKCd4cGFnZTphamF4JywgJ29yZGVyU2F2ZScsIHsKICAgICAgICBtb2RlOiAnY2xhc3MnLAogICAgICAgIGRhdGE6IGRhdGEKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczYuJHJlZnMuT3JkZXJGaWxlcy52YWx1ZSA9ICcnOwogICAgICAgIF90aGlzNi5vcmRlckZpbGVzID0gW107CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhICYmICtyZXNwb25zZS5kYXRhLmlkKSB7CiAgICAgICAgICBpZiAoX3RoaXM2Lm9yZGVySWQgIT0gK3Jlc3BvbnNlLmRhdGEuaWQpIHsKICAgICAgICAgICAgX3RoaXM2Lm9yZGVySWQgPSArcmVzcG9uc2UuZGF0YS5pZDsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoe30sICcnLCAiIi5jb25jYXQobG9jYXRpb24ucGF0aG5hbWUsICI/aWQ9IikuY29uY2F0KF90aGlzNi5vcmRlcklkKSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNi5wcm9jZXNzZWQgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpczYubG9hZERhdGEoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHRha2VEYXRhQ29kZTogZnVuY3Rpb24gdGFrZURhdGFDb2RlKGUpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB2YXIgb3JkZXJJZCA9IGUuY3VycmVudFRhcmdldC52YWx1ZTsKICAgICAgJCgnI3ByaW1hcnktb3JkZXJzIG9wdGlvbicpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uaW5uZXJIVE1MID09IG9yZGVySWQpIHsKICAgICAgICAgIF90aGlzNy52YWx1ZXMuVUZfUFJJTUFSWV9PUkRFUiA9IGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLW9yZGVyJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["OrderDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div v-if=\"dataLoaded\" class=\"lc-body\">\n        <form @submit.prevent=\"save()\" method=\"post\" >\n            <a href=\"/lk/orders/\" class=\"lk-back-link\">Перейти в список заказов</a>\n            <div class=\"lc__top lc-info-top\">\n                <div class=\"order-top-info info-item-group\">\n                    <div class=\"lc-info-item\">\n                        <div class=\"info-tile\">Вид заказа</div>\n                        <select v-model=\"values.UF_TYPE\" required >\n                            <option value=\"\">Выберите из списка</option>\n                            <option>Первичный</option>\n                            <option>Вторичный</option>\n                            <option>Рекламация</option>\n                        </select>\n                    </div>\n                    <div class=\"lc-info-item\">\n                        <div class=\"info-tile\">Контрагент/ юр. лицо</div>\n                        <select v-if=\"userData.distributors.length\" v-model=\"values.UF_CONTRACTOR_CODE\" required >\n                            <option value=\"\">Выберите из списка</option>\n                            <option v-for=\"item in userData.distributors\" :key=\"item.ID\" :value=\"item.UF_CODE\" >{{ item.UF_NAME }}</option>\n                        </select>\n                        <input v-else v-model=\"values.UF_CONTRACTOR\" class=\"info-input w-max\" />\n                    </div>\n                    <div class=\"lc-info-item\">\n                        <div class=\"info-tile\">Внутренний номер</div>\n                        <input v-model=\"values.UF_INNER_CODE\" class=\"info-input w-max\" />\n                    </div>\n                </div>\n                <div class=\"lc__top-status during\"><span class=\"icon\"><img src=\"/local/templates/mossman2018/img/ico-during.svg\" alt=\"\"></span> {{ values.UF_STATUS }}</div>\n            </div>\n            <div class=\"lc__info order-info\">\n                <div class=\"col-left\">\n                    <div class=\"title\">Информация по клиенту</div>\n                    <div class=\"lc-card\">\n                        <div v-if=\"values.UF_TYPE && values.UF_TYPE != 'Первичный'\" class=\"lc-info-item\">\n                            <div class=\"info-tile\">Первичный заказ:</div>\n                            <select @change=\"primaryOrder =''\" v-model=\"sortType\">\n                                <option value=\"Заказ\">Поиск по номеру заказа</option>\n                                <option value=\"Счет\">Поиск по номеру счета</option>\n                            </select>\n                            <div v-if=\"sortType == 'Заказ'\" class=\"primary-orders-select\">\n                                <input type=\"text\" class=\"primary-orders\" @change=\"takeDataCode\" list=\"primary-orders\" v-model=\"primaryOrder\" placeholder=\"Выберите из списка\">\n                                <datalist id=\"primary-orders\">\n                                    <option v-for=\"item in ordersList.filter(o=>o.ID != orderId)\" :key=\"item.ID\" :data-order=\"item.UF_CODE\" >№{{ item.UF_ORDER_NUM }}</option>\n                                </datalist>\n                            </div>\n                            <div v-else class=\"primary-orders-select\">\n                                <input type=\"text\" class=\"primary-orders\" @change=\"takeDataCode\" list=\"primary-orders\" v-model=\"primaryOrder\" placeholder=\"Выберите из списка\">\n                                <datalist id=\"primary-orders\">\n                                    <option v-for=\"item in ordersList.filter(o=>o.ID != orderId)\" :key=\"item.ID\" :data-order=\"item.UF_CODE\" >№{{ item.UF_INVOICE_NUM }}</option>\n                                </datalist>\n                            </div>\n                        </div>\n                        <div class=\"lc-info-item\">\n                            <div class=\"string-item\">\n                                <div class=\"info-tile\">3Cad сервер №</div>\n                                <div class=\"info-input-group\">\n                                    <input v-model=\"values.UF_3CAD_SERVER_NUM_NEW\" class=\"info-input w-min\" />\n                                    <span>от</span>\n                                    <input  @keyup=\"values.UF_3CAD_SERVER_DATE = $event.target.value\" v-model=\"values.UF_3CAD_SERVER_DATE\" class=\"info-input w-min mask--date\" />\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"lc-info-item\">\n                            <div class=\"info-tile\">Модель:</div>\n                            <input v-model=\"values.UF_MODEL\" class=\"info-input w-max\" />\n                        </div>\n                        <div class=\"lc-info-item\">\n                            <div class=\"info-tile\">Список товаров:</div>\n                            <div class=\"info-table table-wrap\">\n                                <table class=\"lc__info-table\">\n                                    <thead>\n                                        <tr>\n                                            <th>Артикул</th>\n                                            <th>Название</th>\n                                            <th>Кол-во</th>\n                                            <th>Цена</th>\n                                            <th>Сумма</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr v-for=\"(orderProduct, key) in orderProducts\" :key=\"orderProduct.ID\" >\n                                            <td class=\"n-wr\">{{ orderProduct.UF_ARTICLE }}</td>\n                                            <td>\n                                                <template v-if=\"orderProduct.editable\" >\n                                                    <input class=\"name-input\" v-model=\"orderProduct.UF_NAME\" @input=\"searchProducts(orderProduct)\" @change=\"productSelect(orderProduct)\" :list=\"`product-list-${orderProduct.ID}`\">\n                                                    <datalist :id=\"`product-list-${orderProduct.ID}`\">\n                                                        <option v-for=\"variant in orderProduct.variants\" :key=\"variant.ID\" :value=\"variant.UF_NAME\" ></option>\n                                                    </datalist>\n                                                    <div class=\"n-wr__save\">\n                                                        <a class=\"arrow-btn arrow-btn--small\" href=\"#\" @click.prevent=\"productSave(orderProduct)\" >Сохранить</a>\n                                                    </div>\n                                                </template>\n                                                <template v-else >\n                                                    {{ orderProduct.UF_NAME }}\n\n                                                    <div class=\"n-wr__edit\">\n                                                        <a class=\"arrow-btn arrow-btn--small\" href=\"#\" @click.prevent=\"orderProduct.editable = true\" >Редактировать</a>\n                                                    </div>\n                                                </template>\n                                                <div class=\"n-wr__remove\">\n                                                    <a class=\"arrow-btn arrow-btn--small\" href=\"#\" @click.prevent=\"orderProducts.splice(key, 1)\" >Удалить</a>\n                                                </div>\n                                            </td>\n                                            <td class=\"n-wr\">\n                                                <template v-if=\"orderProduct.editable\" >\n                                                    <input class=\"count-input\" v-model=\"orderProduct.UF_QUANTITY\" type=\"text\" @input=\"recalcProductSum(orderProduct)\" />\n                                                </template>\n                                                <template v-else >\n                                                    {{ orderProduct.UF_QUANTITY }} {{ orderProduct.UF_UNIT }}\n                                                </template>\n                                            </td>\n                                            <td class=\"n-wr\">\n                                                <template v-if=\"orderProduct.editable\" >\n                                                    <input class=\"price-input\" v-model=\"orderProduct.UF_PRICE\" type=\"text\" @input=\"recalcProductSum(orderProduct)\" />\n                                                </template>\n                                                <template v-else >\n                                                    {{ orderProduct.UF_PRICE }} руб.\n                                                </template>\n                                            </td>\n                                            <td class=\"n-wr\">\n                                                <!-- <template v-if=\"orderProduct.editable\" >\n                                                    <input class=\"summ-input\" v-model=\"orderProduct.UF_SUM\" type=\"text\" />\n                                                </template>\n                                                <template v-else >\n                                                    {{ orderProduct.UF_SUM }} руб.\n                                                </template> -->\n                                                <template v-if=\"orderProduct.UF_SUM\" >\n                                                    {{ orderProduct.UF_SUM }} руб.\n                                                </template>\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                                <div class=\"lc-info-item__add\">\n                                    <a @click.prevent=\"addProduct()\" class=\"arrow-btn arrow-btn--small\" href=\"#\">Добавить</a>\n                                </div>\n                            </div>\n                        </div>\n                        <!-- <div class=\"lc-info-item\">\n                            <div class=\"info-tile\">Адрес отгрузки:</div>\n                            <input v-model=\"values.UF_SHIPMENT_ADDRESS\" class=\"info-input w-min\" />\n                        </div>\n                        <div class=\"lc-info-item\">\n                            <div class=\"info-tile\">Транспортная компания:</div>\n                            <input v-model=\"values.UF_TRANSPORT_COMPANY\" class=\"info-input w-min\" />\n                        </div> -->\n                        <div class=\"lc-info-item\">\n                            <div class=\"info-tile\">Комментарий:</div>\n                            <input v-model=\"values.UF_COMMENT\" class=\"info-input w-max\" />\n                        </div>\n                        <div class=\"lc-info-item\">\n                            <div class=\"info-tile\">Файлы:</div>\n                            <div class=\"\">\n                                <div class=\"\">\n                                    <div class=\"\">\n\n                                    </div>\n                                    <div class=\"default-input default-input--file\" style=\"width: 200px;\">\n                                        <input class=\"default-input__input default-input__input--file\" ref=\"OrderFiles\" @change=\"fileInputChanged($event.target)\" type=\"file\" multiple id=\"price-file\" />\n                                        <div class=\"default-input__input-filetext\" style=\"margin-bottom: 20px;\">\n                                            <input class=\"default-input__input\" type=\"text\" readonly=\"\" placeholder=\"Прикрепить файл +\">\n                                            <label for=\"price-file\" class=\"default-input__label--file\"></label>\n                                        </div>\n                                        <div v-if=\"orderFiles.length\" >\n                                            {{ Array.prototype.map.call(orderFiles, orderFile => orderFile.name).join(', ') }}\n                                        </div>\n                                    </div>\n                                    <div class=\"\" style=\"margin-top: 20px;\">\n                                        Доступные форматы: jpg, png, gif, pdf, doc, docx, rtf, txt\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div v-if=\"values.files && values.files.length\" class=\"lc-info-item\">\n                            <div class=\"info-tile\">Загруженные файлы:</div>\n                            <div class=\"\">\n                                <div v-for=\"file in values.files\" :key=\"file.ID\" class=\"\">\n                                    <a :href=\"file.SRC\" target=\"_blank\" >{{ file.ORIGINAL_NAME }}</a>\n                                    <a @click.prevent=\"fileRemove(file)\" class=\"delete-file-order\" href=\"#\" >удалить</a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-right\">\n                    <div class=\"title\">Информация по заказу</div>\n                    <div class=\"lc-card\">\n                        <div class=\"info-item-group\">\n                            <div class=\"lc-info-item b-item\">\n                                <div class=\"info-tile\">Заказ фабрики:</div>\n                                <div class=\"info-input\" >{{ values.UF_FACTORY_TITLE }}</div>\n                            </div>\n                            <div class=\"lc-info-item\">\n                                <div class=\"info-tile\">сумма:</div>\n                                <div class=\"info-input w-min total\" >{{ values.UF_SUM }}</div>\n                            </div>\n                        </div>\n                        <div class=\"lc-info-item item-wrap\">\n                            <div v-if=\"+values.UF_CANCELED\" class=\"string-item\">\n                                <div class=\"info-tile\">Аннулирован</div>\n                            </div>\n                            <div v-if=\"+values.UF_PAUSED\" class=\"string-item\">\n                                <div class=\"info-tile\">Приостановлен</div>\n                            </div>\n                            <div v-if=\"values.UF_ACCEPTED_MANAGER\" class=\"string-item\">\n                                <div class=\"info-tile\">Принят менеджером:</div>\n                                <div class=\"info-input-group\">\n                                    <div class=\"info-input w-min\" >{{ values.UF_ACCEPT_MNGR_DATE }}</div>\n                                    <span>{{ values.UF_ACCEPTED_MANAGER }}</span>\n                                </div>\n                            </div>\n                            <div class=\"string-item\">\n                                <div class=\"info-tile\">Обработан менеджером:</div>\n                                <div class=\"info-input-group\">\n                                    <div class=\"info-input w-min\" >{{ values.UF_PROCES_MNGR_DATE }}</div>\n                                    <span>{{ values.UF_PROCESSED_MANAGER }}</span>\n                                </div>\n                            </div>\n                            <div class=\"string-item\">\n                                <div class=\"info-tile\">Обработан технологом:</div>\n                                <div class=\"info-input-group\">\n                                    <div class=\"info-input w-min\" >{{ values.UF_PROCESS_TECH_DATE }}</div>\n                                    <span>{{ values.UF_PROCESSED_TECH }}</span>\n                                </div>\n                            </div>\n                            <div class=\"string-item\">\n                                <div class=\"info-tile\">Выставлен счет №</div>\n                                <div class=\"info-input-group\">\n                                    <div class=\"info-input w-min\" >{{ values.UF_INVOICE_NUM }}</div>\n                                    <div class=\"info-input w-min\" >{{ values.UF_INVOICE_DATE }}</div>\n                                    <div class=\"info-input w-min total\" >{{ values.UF_INVOICE_SUM }}</div>\n                                    <span>{{ values.UF_INVOICE_NAME }}</span>\n                                </div>\n                            </div>\n                            <div v-if=\"values.invoiceFile && values.invoiceFile.length\" class=\"string-item\">\n                                <div class=\"info-tile\">Бланк счёта</div>\n                                <div class=\"info-input-group\">\n                                    <div v-for=\"f in values.invoiceFile\" :key=\"f.ID\" >\n                                        <a :href=\"f.SRC\" download >{{ f.ORIGINAL_NAME }}</a>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"string-item\">\n                                <div class=\"info-tile\">оплачено:</div>\n                                <div class=\"info-input-group\">\n                                    <div class=\"info-input w-min paid\" >{{ values.UF_PAYED_SUM }}</div>\n                                    <!-- <span class=\"color-text\">Частичная оплата</span> -->\n                                </div>\n                            </div>\n                            <div class=\"string-item\">\n                                <div class=\"info-tile\">Счет принят:</div>\n                                <div class=\"info-input-group\">\n                                    <input @keyup=\"values.UF_INVOICE_ACPT_DATE = $event.target.value\" v-model=\"values.UF_INVOICE_ACPT_DATE\" type=\"text\" class=\"info-input mask--date w-min\" />\n                                    <span>{{ values.UF_INVOICE_ACPT_NAME }}</span>\n                                    <a href=\"#\" @click.prevent=\"values.UF_INVOICE_ACPT_DATE = (values.UF_INVOICE_ACPT_DATE?'':curDate)\" class=\"arrow-btn\" >{{ !values.UF_INVOICE_ACPT_DATE?'Принять счёт':'Отменить приёмку счёта' }}</a>\n                                </div>\n                            </div>\n                            <div class=\"string-item\">\n                                <div class=\"info-tile\">Выписаны бух. документы:</div>\n                                <div class=\"info-input-group\">\n                                    <div class=\"info-input w-min\" >{{ values.UF_ACCOUNTING_DATE }}</div>\n                                    <span>{{ values.UF_ACCOUNTING_NAME }}</span>\n                                </div>\n                            </div>\n                            <div class=\"string-item\">\n                                <div class=\"info-tile color-text-2\">Плановая дата готовности:</div>\n                                <div class=\"info-input-group\">\n                                    <div class=\"info-input w-min color-text-2\" >{{ values.UF_PLAN_DATE }}</div>\n                                    <!-- <span>Срок исполнения — 40 рабочих дней от 26.12.2018</span> -->\n                                </div>\n                            </div>\n                            <div class=\"string-item\">\n                                <div class=\"info-tile\">Ответственный:</div>\n                                <div class=\"info-input-group\">\n                                    <div class=\"info-input b-input\" >{{ values.UF_RESPONSIBLE_NAME }}</div>\n                                </div>\n                            </div>\n                            <div class=\"string-item\">\n                                <div class=\"info-tile\">Телефон:</div>\n                                <div class=\"info-input-group\">\n                                    <div class=\"info-input b-input\" >{{ values.UF_RESPONSIBLE_PHONE }}</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <button type=\"submit\" class=\"arrow-btn\" name=\"save\" value=\"save\" >Сохранить</button>\n            <button v-if=\"orderId && !+values.UF_CANCELED\" @click.prevent.stop=\"pauseToggle()\" type=\"button\" class=\"arrow-btn\" name=\"save\">{{ !values.UF_PAUSED ? 'Приостановить' : 'Возобновить' }}</button>\n            <button v-if=\"orderId && !+values.UF_CANCELED\" @click.prevent.stop=\"cancel()\" type=\"button\" class=\"arrow-btn\" name=\"save\">Аннулировать</button>\n\n        </form>\n    </div>\n</template>\n\n<script>\nimport moment from 'moment';\nmoment.locale('ru');\nexport default {\n    name: 'OrderDetail',\n    props : {\n        id : {\n            type : Number,\n            default : 0,\n        },\n        userData : {\n            type : Object,\n            default : () => ({}),\n        },\n        ordersList : {\n            type : Array,\n            default : () => ([]),\n        },\n    },\n    mounted () {\n        $(()=>{\n            this.curDate = moment().format('DD.MM.YYYY');\n        });\n        this.orderId = +this.id;\n        if (this.orderId) {\n            this.loadData();\n        }\n        else {\n            if (this.userData.distributors.length) {\n                this.values.UF_CONTRACTOR = this.userData.distributors[0].UF_NAME;\n            }\n            if (this.userData.distributors.length) {\n                this.values.UF_CONTRACTOR_CODE = this.userData.distributors[0].UF_CODE;\n            }\n            this.dataLoaded = true;\n        }\n    },\n    data : () => ({\n        curDate : '',\n        processed : false,\n        orderId : 0,\n        values : {\n            UF_TYPE : '',\n            UF_CONTRACTOR : '',\n            UF_PRIMARY_ORDER : '',\n            UF_3CAD_SERVER_NUM : '',\n            UF_3CAD_SERVER_DATE : '',\n            UF_MODEL : '',\n            UF_SHIPMENT_ADDRESS : '',\n            UF_TRANSPORT_COMPANY : '',\n            UF_COMMENT : '',\n            UF_FACTORY_TITLE : '',\n            UF_SUM : '',\n            UF_ACCEPT_MNGR_DATE : '',\n            UF_PROCES_MNGR_DATE : '',\n            UF_PROCESS_TECH_DATE : '',\n            UF_INVOICE_NUM : '',\n            UF_INVOICE_DATE : '',\n            UF_INVOICE_SUM : '',\n            UF_INVOICE_ACPT_DATE : '',\n            UF_ACCOUNTING_DATE : '',\n            UF_PLAN_DATE : '',\n            UF_RESPONSIBLE_NAME : '',\n            UF_RESPONSIBLE_PHONE : '',\n            UF_STATUS : '',\n            UF_ACCEPTED_MANAGER : '',\n            UF_PROCESSED_MANAGER : '',\n            UF_PROCESSED_TECH : '',\n            UF_INVOICE_NAME : '',\n            UF_INVOICE_ACPT_NAME : '',\n            UF_ACCOUNTING_NAME : '',\n            UF_CONTRACTOR_CODE : '',\n            UF_INNER_CODE : '',\n            UF_3CAD_SERVER_NUM_NEW : '',\n            UF_CANCELED : 0,\n            UF_PAUSED : 0,\n        },\n        orderProducts : [],\n        dataLoaded : false,\n        searchTimeout : null,\n        orderFiles : [],\n        primaryOrder: '',\n        sortType: 'Заказ',\n    }),\n    computed : {\n        contractorCode () {\n            return this.values.UF_CONTRACTOR_CODE;\n        },\n    },\n    watch : {\n        contractorCode (code) {\n            if (code) {\n                let distributor = this.userData.distributors.find(o => o.UF_CODE == code);\n                if (distributor) {\n                    this.values.UF_CONTRACTOR = distributor.UF_NAME;\n                }\n                else {\n                    this.values.UF_CONTRACTOR = '';\n                }\n            }\n            else {\n                this.values.UF_CONTRACTOR = '';\n            }\n        },\n    },\n    methods : {\n        recalcProductSum (product) {\n            let sum = +product.UF_PRICE * +product.UF_QUANTITY;\n            product.UF_SUM = sum;\n        },\n        productSelect (product) {\n            if (product.variants && product.variants.length) {\n                let similar = product.variants.filter(variant => variant.UF_NAME == product.UF_NAME);\n                if (similar.length == 1) {\n                    product.UF_PRODUCT_CODE = similar[0].UF_CODE;\n                    product.UF_ARTICLE = similar[0].UF_ARTICLE;\n                    if (!product.UF_PRICE) {\n                        product.UF_PRICE = similar[0].UF_PRICE;\n                    }\n                }\n            }\n        },\n        productSave (product) {\n            this.productSelect(product);\n            product.editable = false;\n        },\n        cancel () {\n            BX.ajax.runComponentAction('xpage:ajax', 'orderCancel', {\n                mode : 'class',\n                data : {\n                    orderId : this.orderId,\n                },\n            }).then(response => {\n                this.loadData();\n            });\n        },\n        pauseToggle () {\n            BX.ajax.runComponentAction('xpage:ajax', 'orderPause', {\n                mode : 'class',\n                data : {\n                    orderId : this.orderId,\n                    paused : +this.values.UF_PAUSED || 0,\n                },\n            }).then(response => {\n                this.loadData();\n            });\n        },\n        fileRemove (file) {\n            if (!file.ID) {\n                return;\n            }\n            BX.ajax.runComponentAction('xpage:ajax', 'orderFileRemove', {\n                mode : 'class',\n                data : {\n                    orderId : this.orderId,\n                    fileId : file.ID,\n                },\n            }).then(response => {\n                this.loadData();\n            });\n        },\n        fileInputChanged (input) {\n            this.orderFiles = this.$refs.OrderFiles.files;\n        },\n        searchProducts (orderProduct) {\n            clearTimeout(this.searchTimeout);\n            orderProduct.UF_ARTICLE = '';\n            orderProduct.UF_PRICE = '';\n            if (orderProduct.variants.length) {\n                let similar = orderProduct.variants.filter(variant => variant.UF_NAME == orderProduct.UF_NAME);\n                if (similar.length == 1) {\n                    orderProduct.UF_PRODUCT_CODE = similar[0].UF_CODE;\n                    orderProduct.UF_ARTICLE = similar[0].UF_ARTICLE;\n                    orderProduct.UF_PRICE = similar[0].UF_PRICE;\n                    return;\n                }\n            }\n            if (orderProduct.UF_NAME.length >= 3) {\n                this.searchTimeout = setTimeout(()=>{\n                    BX.ajax.runComponentAction('xpage:ajax', 'searchProducts', {\n                        mode : 'class',\n                        data : {\n                            name : orderProduct.UF_NAME,\n                        },\n                    }).then(response => {\n                        if (response.data) {\n                            orderProduct.variants = response.data.products;\n                        }\n                    });\n                },1000);\n            }\n        },\n        addProduct () {\n            this.orderProducts.push({\n                ID : '_'+(+new Date),\n                UF_ARTICLE : '',\n                UF_NAME : '',\n                UF_QUANTITY : '',\n                UF_PRICE : '',\n                UF_SUM : '',\n                editable : true,\n                variants : [],\n            });\n        },\n        loadData () {\n            if (!this.orderId) {\n                return;\n            }\n            BX.ajax.runComponentAction('xpage:ajax', 'orderGet', {\n                mode : 'class',\n                data : {\n                    id : this.orderId,\n                },\n            }).then(response => {\n                this.dataLoaded = true;\n                this.orderProducts = [];\n                if (response.data) {\n                    if (response.data.values) {\n                        this.$set(this, 'values', response.data.values);\n                    }\n                    if (response.data.orderProducts) {\n                        this.orderProducts = response.data.orderProducts.map(item => {\n                            item.editable = false;\n                            return item;\n                        });\n                    }\n                }\n            });\n        },\n        save () {\n            if (this.processed) {\n                return;\n            }\n            this.processed = true;\n            let data = new FormData;\n            data.append('id', this.orderId);\n            data.append('values', JSON.stringify(this.values));\n            data.append('products', JSON.stringify(this.orderProducts));\n            if (this.orderFiles.length) {\n                for (var i = 0; i < this.orderFiles.length; i++) {\n                    data.append('files[]', this.orderFiles[i]);\n                }\n            }\n            BX.ajax.runComponentAction('xpage:ajax', 'orderSave', {\n                mode : 'class',\n                data,\n            }).then(response => {\n                this.$refs.OrderFiles.value = '';\n                this.orderFiles = [];\n                if (response.data && +response.data.id) {\n                    if (this.orderId != +response.data.id) {\n                        this.orderId = +response.data.id;\n                        try {\n                            history.pushState({}, '', `${location.pathname}?id=${this.orderId}`);\n                        } catch (e) {\n                            console.log(e);\n                        }\n                    }\n                    this.processed = false;\n                    this.loadData();\n                }\n            });\n        },\n        takeDataCode(e) {\n            let orderId = e.currentTarget.value;\n            $('#primary-orders option').each((index, item) => {\n                if(item.innerHTML == orderId) {\n                    this.values.UF_PRIMARY_ORDER = item.getAttribute('data-order');\n                }\n            });\n        },\n    },\n}\n</script>\n\n<style>\n    a.arrow-btn{\n        color: #fff;\n    }\n\n    .arrow-btn{\n        display: inline-block;\n    }\n\n    .arrow-btn--small{\n        padding: 7px 8px;\n    }\n\n    .lc-info-item__add{\n        margin: 25px 0 0;\n    }\n\n    .lc__info-table input:not([type]),\n    .lc__info-table input[type=text]{\n        height: 30px;\n        padding: 2px 10px;\n        border: 1px solid var(--borderColor);\n    }\n\n    .count-input{\n        max-width: 50px;\n    }\n\n    .price-input, .summ-input{\n        max-width: 140px;\n    }\n\n    .n-wr__save, .n-wr__edit,\n    .n-wr__remove{\n        margin-top: 10px;\n        display: inline-block;\n    }\n\n    .n-wr__save:not(:last-child), .n-wr__edit:not(:last-child),\n    .n-wr__remove:not(:last-child){\n        margin-right: 10px;\n    }\n\n</style>\n"],"sourceRoot":"src/components"}]}