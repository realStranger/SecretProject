{"remainingRequest":"/var/www/html/local/vue-mossman/node_modules/babel-loader/lib/index.js!/var/www/html/local/vue-mossman/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/local/vue-mossman/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/local/vue-mossman/src/components/Documents.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/local/vue-mossman/src/components/Documents.vue","mtime":1604916304000},{"path":"/var/www/html/local/vue-mossman/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/local/vue-mossman/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/local/vue-mossman/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/local/vue-mossman/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5saW5rIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHBhZ2VyTWl4aW4gZnJvbSAiLi4vbWl4aW5zL1BhZ2VyLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRG9jdW1lbnRzJywKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkRGF0YSgpOwogIH0sCiAgbWl4aW5zOiBbcGFnZXJNaXhpbl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaDogJycsCiAgICAgIHNlY3Rpb25JZDogMCwKICAgICAgcGFyZW50U2VjdGlvbklkOiAwLAogICAgICByZW5hbWVJdGVtSWQ6IDAsCiAgICAgIGl0ZW1zOiBbXQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBzZWN0aW9uSWQ6IGZ1bmN0aW9uIHNlY3Rpb25JZCh2YWwsIG9sZFZhbCkgewogICAgICB0aGlzLmxvYWREYXRhKCk7CiAgICB9LAogICAgcGFnZU51bTogZnVuY3Rpb24gcGFnZU51bSh2YWwsIG9sZFZhbCkgewogICAgICB0aGlzLmxvYWREYXRhKCk7CiAgICB9LAogICAgcmVuYW1lSXRlbUlkOiBmdW5jdGlvbiByZW5hbWVJdGVtSWQodmFsLCBvbGRWYWwpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICgrdmFsKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy4kZWwucXVlcnlTZWxlY3RvcigiLmxjLWRvY19fdGl0bGUtLSIuY29uY2F0KHZhbCwgIiBpbnB1dFt0eXBlPVwidGV4dFwiXSIpKS5mb2N1cygpOyAvLyB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKGAubGMtZG9jX190aXRsZS0tJHt2YWx9IGlucHV0W3R5cGU9InRleHQiXWApLnNlbGVjdCgpOwoKCiAgICAgICAgICBfdGhpcy4kZWwucXVlcnlTZWxlY3RvcigiLmxjLWRvY19fdGl0bGUtLSIuY29uY2F0KHZhbCwgIiBpbnB1dFt0eXBlPVwidGV4dFwiXSIpKS5zZXRTZWxlY3Rpb25SYW5nZShfdGhpcy4kZWwucXVlcnlTZWxlY3RvcigiLmxjLWRvY19fdGl0bGUtLSIuY29uY2F0KHZhbCwgIiBpbnB1dFt0eXBlPVwidGV4dFwiXSIpKS52YWx1ZS5sZW5ndGgsIF90aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCIubGMtZG9jX190aXRsZS0tIi5jb25jYXQodmFsLCAiIGlucHV0W3R5cGU9XCJ0ZXh0XCJdIikpLnZhbHVlLmxlbmd0aCwgJ2ZvcndhcmQnKTsKICAgICAgICB9LCAzMDApOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhcHBseVNlYXJjaDogZnVuY3Rpb24gYXBwbHlTZWFyY2goKSB7CiAgICAgIHRoaXMubG9hZERhdGEodGhpcy5zZWFyY2gpOwogICAgfSwKICAgIGxvYWREYXRhOiBmdW5jdGlvbiBsb2FkRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgc2VhcmNoID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJzsKCiAgICAgIGlmICghc2VhcmNoKSB7CiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJzsKICAgICAgfQoKICAgICAgQlguYWpheC5ydW5Db21wb25lbnRBY3Rpb24oJ3hwYWdlOmFqYXgnLCAnZG9jdW1lbnRzR2V0TGlzdCcsIHsKICAgICAgICBtb2RlOiAnY2xhc3MnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIHNlY3Rpb25JZDogdGhpcy5zZWN0aW9uSWQsCiAgICAgICAgICBwYWdlTnVtOiB0aGlzLnBhZ2VOdW0sCiAgICAgICAgICBzZWFyY2g6IHNlYXJjaAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuaXRlbXMgPSByZXNwb25zZS5kYXRhLml0ZW1zIHx8IFtdOwogICAgICAgIF90aGlzMi5wYXJlbnRTZWN0aW9uSWQgPSByZXNwb25zZS5kYXRhLnBhcmVudFNlY3Rpb25JZCB8fCAwOwogICAgICAgIF90aGlzMi5wYWdlc0NudCA9ICtyZXNwb25zZS5kYXRhLnBhZ2VzQ250IHx8IDA7CiAgICAgIH0pOwogICAgfSwKICAgIHVwOiBmdW5jdGlvbiB1cCgpIHsKICAgICAgdGhpcy5zZWN0aW9uSWQgPSB0aGlzLnBhcmVudFNlY3Rpb25JZDsKICAgIH0sCiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKGl0ZW0pIHsKICAgICAgJCh0aGlzLiRlbCkuZmluZCgnLmRyb3Bkb3duJykuc2xpZGVVcCgpOwoKICAgICAgaWYgKGl0ZW0uZmlsZVNyYykgewogICAgICAgIHRoaXMuJHJlZnMubGluay5ocmVmID0gaXRlbS5maWxlU3JjOwogICAgICAgIHRoaXMuJHJlZnMubGluay5jbGljaygpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VjdGlvbklkID0gaXRlbS5JRDsKICAgICAgfQogICAgfSwKICAgIHJlbmFtZTogZnVuY3Rpb24gcmVuYW1lKGl0ZW0pIHsKICAgICAgdGhpcy5yZW5hbWVJdGVtSWQgPSBpdGVtLklEOwogICAgICAkKHRoaXMuJGVsKS5maW5kKCcuZHJvcGRvd24nKS5zbGlkZVVwKCk7CiAgICB9LAogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoaXRlbSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICQodGhpcy4kZWwpLmZpbmQoJy5kcm9wZG93bicpLnNsaWRlVXAoKTsKICAgICAgQlguYWpheC5ydW5Db21wb25lbnRBY3Rpb24oJ3hwYWdlOmFqYXgnLCAnZG9jdW1lbnRSZW1vdmUnLCB7CiAgICAgICAgbW9kZTogJ2NsYXNzJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBpZDogaXRlbS5JRAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMubG9hZERhdGEoKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkRGlyZWN0b3J5OiBmdW5jdGlvbiBhZGREaXJlY3RvcnkoaXRlbSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgICQodGhpcy4kZWwpLmZpbmQoJy5kcm9wZG93bicpLnNsaWRlVXAoKTsKICAgICAgQlguYWpheC5ydW5Db21wb25lbnRBY3Rpb24oJ3hwYWdlOmFqYXgnLCAnYWRkRGlyZWN0b3J5JywgewogICAgICAgIG1vZGU6ICdjbGFzcycsCiAgICAgICAgZGF0YTogewogICAgICAgICAgcGFyZW50U2VjdGlvbklkOiB0aGlzLnNlY3Rpb25JZAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczQubG9hZERhdGEoKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkRmlsZXM6IGZ1bmN0aW9uIGFkZEZpbGVzKCkgewogICAgICB0aGlzLiRyZWZzLmlucHV0RmlsZS5jbGljaygpOwogICAgICAkKHRoaXMuJGVsKS5maW5kKCcuZHJvcGRvd24nKS5zbGlkZVVwKCk7CiAgICB9LAogICAgZmlsZUNoYW5nZWQ6IGZ1bmN0aW9uIGZpbGVDaGFuZ2VkKGUpIHsKICAgICAgdmFyIGZpbGVzID0gW107CgogICAgICB0cnkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZS50YXJnZXQuZmlsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGZpbGVzLnB1c2goZS50YXJnZXQuZmlsZXNbaV0pOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9CgogICAgICBpZiAoZmlsZXMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy51cGxvYWRGaWxlcyhmaWxlcyk7CiAgICAgIH0KICAgIH0sCiAgICB1cGxvYWRGaWxlczogZnVuY3Rpb24gdXBsb2FkRmlsZXMoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGZpbGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTsKICAgICAgdmFyIGRhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZGF0YS5hcHBlbmQoJ3NlY3Rpb25JZCcsIHRoaXMuc2VjdGlvbklkKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBkYXRhLmFwcGVuZCgnZmlsZVtdJywgZmlsZXNbaV0pOwogICAgICB9CgogICAgICBCWC5hamF4LnJ1bkNvbXBvbmVudEFjdGlvbigneHBhZ2U6YWpheCcsICdhZGRGaWxlcycsIHsKICAgICAgICBtb2RlOiAnY2xhc3MnLAogICAgICAgIGRhdGE6IGRhdGEKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczUuJHJlZnMuaW5wdXRGaWxlLnZhbHVlID0gJyc7CgogICAgICAgIF90aGlzNS5sb2FkRGF0YSgpOwogICAgICB9KTsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB2YXIgZmllbGQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnOwogICAgICB2YXIgdmFsdWVzOwoKICAgICAgaWYgKGZpZWxkKSB7CiAgICAgICAgaWYgKGl0ZW1bZmllbGRdKSB7CiAgICAgICAgICB2YWx1ZXMgPSB7fTsKICAgICAgICAgIHZhbHVlc1tmaWVsZF0gPSBpdGVtW2ZpZWxkXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFsdWVzID0gaXRlbTsKICAgICAgfQoKICAgICAgQlguYWpheC5ydW5Db21wb25lbnRBY3Rpb24oJ3hwYWdlOmFqYXgnLCAnZG9jdW1lbnRTYXZlJywgewogICAgICAgIG1vZGU6ICdjbGFzcycsCiAgICAgICAgZGF0YTogewogICAgICAgICAgaWQ6IGl0ZW0uSUQsCiAgICAgICAgICB2YWx1ZXM6IHZhbHVlcwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczYucmVuYW1lSXRlbUlkID0gJyc7CgogICAgICAgIF90aGlzNi5sb2FkRGF0YSgpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Documents.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div class=\"lc-body\">\n    <input style=\"display: none;\" ref=\"inputFile\" @change=\"fileChanged($event)\" type=\"file\" name=\"file\" multiple />\n    <a style=\"display: none;\" ref=\"link\" target=\"_blank\" href=\"#\"></a>\n    <div class=\"lc__top\">\n        <div class=\"lc-search-cont\">\n            <form @submit.prevent=\"applySearch()\" action=\"\">\n                <div class=\"lc-search\">\n                    <input v-model=\"search\" type=\"text\" placeholder=\"Поиск\"/>\n                    <input type=\"submit\" value=\"Найти\"/>\n                </div>\n            </form>\n        </div>\n        <div class=\"select\">\n            <div class=\"label\">Добавить</div>\n            <div class=\"dropdown\">\n                <ul>\n                    <li><a @click.prevent=\"addDirectory()\" href=\"#\"><span class=\"icon\"><img src=\"/local/templates/mossman2018/img/ico-doc-1.svg\" alt=\"\"></span>Создать папку</a></li>\n                    <li><a @click.prevent=\"addFiles()\" href=\"#\"><span class=\"icon\"><img src=\"/local/templates/mossman2018/img/ico-doc-2.svg\" alt=\"\"></span>Загрузить файлы</a></li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <div class=\"lc-doc\">\n        <div class=\"lc-doc__list\">\n            <div v-if=\"+sectionId\" class=\"lc-doc__item\">\n                <a @click.prevent=\"up()\" href=\"#\">..</a>\n            </div>\n            <div v-for=\"item in items\" :key=\"item.ID\" class=\"lc-doc__item\">\n                <div  class=\"lc-doc__menu\">\n                    <div class=\"toggle-dropdown\"></div>\n                    <div class=\"dropdown\">\n                        <ul>\n                            <li><a href=\"#\" @click.prevent=\"open(item)\" >Открыть</a></li>\n                            <li><a href=\"#\" @click.prevent=\"rename(item)\" >Переименовать</a></li>\n                            <li><a href=\"#\" @click.prevent=\"remove(item)\" >Удалить</a></li>\n                            <!-- <li><a href=\"#\">Копировать</a></li>\n                            <li><a href=\"#\">Переместить</a></li> -->\n                        </ul>\n                    </div>\n                </div>\n                <template v-if=\"!+item.UF_FILE\" >\n                    <div class=\"lc-doc__ico\" style=\"background-image: url('/local/templates/mossman2018/img/ico-folder.svg')\"></div>\n                </template>\n                <div class=\"lc-doc__title\" :class=\"[ `lc-doc__title--${item.ID}`, ]\" >\n                    <input v-model=\"item.UF_NAME\" type=\"text\" :readonly=\"renameItemId != item.ID\" @blur=\"renameItemId ? save(item, 'UF_NAME') : false\" @keyup.enter=\"save(item, 'UF_NAME');\" @dblclick=\"open(item)\" />\n                </div>\n                <div class=\"lc-doc__date\">{{ item.UF_DATETIME }}</div>\n            </div>\n        </div>\n        <pagination v-if=\"pagesCnt > 1\" v-model=\"pageNum\" :pages-cnt=\"pagesCnt\" ></pagination>\n    </div>\n</div>\n</template>\n\n<script>\n\nimport pagerMixin from '../mixins/Pager.vue';\n\nexport default {\n    name : 'Documents',\n    mounted () {\n        this.loadData();\n    },\n    mixins : [\n        pagerMixin,\n    ],\n    data : () => ({\n        search : '',\n        sectionId : 0,\n        parentSectionId : 0,\n        renameItemId : 0,\n        items : [],\n    }),\n    watch : {\n        sectionId (val, oldVal) {\n            this.loadData();\n        },\n        pageNum (val, oldVal) {\n            this.loadData();\n        },\n        renameItemId (val, oldVal) {\n            if (+val) {\n                setTimeout(()=>{\n                    this.$el.querySelector(`.lc-doc__title--${val} input[type=\"text\"]`).focus();\n                    // this.$el.querySelector(`.lc-doc__title--${val} input[type=\"text\"]`).select();\n                    this.$el.querySelector(`.lc-doc__title--${val} input[type=\"text\"]`).setSelectionRange(\n                        this.$el.querySelector(`.lc-doc__title--${val} input[type=\"text\"]`).value.length,\n                        this.$el.querySelector(`.lc-doc__title--${val} input[type=\"text\"]`).value.length,\n                        'forward'\n                    );\n                }, 300);\n            }\n        },\n    },\n    methods : {\n        applySearch () {\n            this.loadData(this.search);\n        },\n        loadData (search = '') {\n            if (!search) {\n                this.search = '';\n            }\n            BX.ajax.runComponentAction('xpage:ajax', 'documentsGetList', {\n                mode : 'class',\n                data : {\n                    sectionId : this.sectionId,\n                    pageNum : this.pageNum,\n                    search,\n                },\n            }).then(response => {\n                this.items = response.data.items || [];\n                this.parentSectionId = response.data.parentSectionId || 0;\n                this.pagesCnt = +response.data.pagesCnt || 0;\n            });\n        },\n        up () {\n            this.sectionId = this.parentSectionId;\n        },\n        open (item) {\n            $(this.$el).find('.dropdown').slideUp();\n            if (item.fileSrc) {\n                this.$refs.link.href = item.fileSrc;\n                this.$refs.link.click();\n            }\n            else {\n                this.sectionId = item.ID;\n            }\n        },\n        rename (item) {\n            this.renameItemId = item.ID;\n            $(this.$el).find('.dropdown').slideUp();\n        },\n        remove (item) {\n            $(this.$el).find('.dropdown').slideUp();\n            BX.ajax.runComponentAction('xpage:ajax', 'documentRemove', {\n                mode : 'class',\n                data : {\n                    id : item.ID,\n                },\n            }).then(response => {\n                this.loadData();\n            });\n        },\n        addDirectory (item) {\n            $(this.$el).find('.dropdown').slideUp();\n            BX.ajax.runComponentAction('xpage:ajax', 'addDirectory', {\n                mode : 'class',\n                data : {\n                    parentSectionId : this.sectionId,\n                },\n            }).then(response => {\n                this.loadData();\n            });\n        },\n        addFiles () {\n            this.$refs.inputFile.click();\n            $(this.$el).find('.dropdown').slideUp();\n        },\n        fileChanged (e) {\n            let files = [];\n            try {\n                for (var i = 0; i < e.target.files.length; i++) {\n                    files.push(e.target.files[i]);\n                }\n            } catch (e) {\n                console.log(e);\n            }\n            if (files.length) {\n                this.uploadFiles(files);\n            }\n        },\n        uploadFiles (files = []) {\n            let data = new FormData;\n            data.append('sectionId', this.sectionId);\n            for (var i = 0; i < files.length; i++) {\n                data.append('file[]', files[i]);\n            }\n            BX.ajax.runComponentAction('xpage:ajax', 'addFiles', {\n                mode : 'class',\n                data,\n            }).then(response => {\n                this.$refs.inputFile.value = '';\n                this.loadData();\n            });\n        },\n        save (item, field = '') {\n            let values;\n            if (field) {\n                if (item[field]) {\n                    values = {};\n                    values[field] = item[field];\n                }\n            }\n            else {\n                values = item;\n            }\n            BX.ajax.runComponentAction('xpage:ajax', 'documentSave', {\n                mode : 'class',\n                data : {\n                    id : item.ID,\n                    values,\n                },\n            }).then(response => {\n                this.renameItemId = '';\n                this.loadData();\n            });\n        },\n    },\n}\n</script>\n"],"sourceRoot":"src/components"}]}