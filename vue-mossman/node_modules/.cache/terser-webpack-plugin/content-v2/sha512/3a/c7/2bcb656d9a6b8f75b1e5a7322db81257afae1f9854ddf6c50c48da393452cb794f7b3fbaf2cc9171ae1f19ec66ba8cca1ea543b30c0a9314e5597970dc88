{"map":"{\"version\":3,\"sources\":[\"js/chunk-f5929552.js\"],\"names\":[\"window\",\"push\",\"b301\",\"module\",\"exports\",\"__webpack_require__\",\"fails\",\"METHOD_NAME\",\"argument\",\"method\",\"call\",\"c975\",\"$\",\"$indexOf\",\"indexOf\",\"sloppyArrayMethod\",\"nativeIndexOf\",\"NEGATIVE_ZERO\",\"SLOPPY_METHOD\",\"target\",\"proto\",\"forced\",\"searchElement\",\"apply\",\"this\",\"arguments\",\"length\",\"undefined\",\"e6b0\",\"__webpack_exports__\",\"r\",\"render\",\"_vm\",\"_h\",\"$createElement\",\"_c\",\"_self\",\"_m\",\"staticClass\",\"_l\",\"dateItems\",\"date\",\"key\",\"_v\",\"_s\",\"item\",\"ID\",\"class\",\"message-in\",\"UF_USER_ID\",\"userData\",\"UF_USER_CODE\",\"XML_ID\",\"message-out\",\"selected\",\"isSelected\",\"attrs\",\"data-message\",\"UF_CODE\",\"on\",\"click\",\"$event\",\"selectMessage\",\"e\",\"USER_LAST_NAME\",\"NAME\",\"USER_SECOND_NAME\",\"filter\",\"v\",\"join\",\"UF_TEXT\",\"files\",\"file\",\"id\",\"href\",\"src\",\"filename\",\"_e\",\"timeFormat\",\"for\",\"name\",\"value\",\"user\",\"domProps\",\"ref\",\"content\",\"text\",\"update\",\"keyup-enter\",\"addMessage\",\"staticStyle\",\"display\",\"multiple\",\"type\",\"change\",\"preparedFiles\",\"preventDefault\",\"alt\",\"lastModified\",\"staticRenderFns\",\"placeholder\",\"disabled\",\"moment\",\"moment_default\",\"n\",\"a\",\"locale\",\"Chatvue_type_script_lang_js_\",\"props\",\"claimId\",\"Number\",\"default\",\"orderId\",\"Object\",\"data\",\"items\",\"values\",\"UF_TYPE\",\"UF_CONTRACTOR\",\"UF_PRIMARY_ORDER\",\"UF_3CAD_SERVER_NUM\",\"UF_3CAD_SERVER_DATE\",\"UF_MODEL\",\"UF_SHIPMENT_ADDRESS\",\"UF_TRANSPORT_COMPANY\",\"UF_COMMENT\",\"UF_FACTORY_TITLE\",\"UF_SUM\",\"UF_ACCEPT_MNGR_DATE\",\"UF_PROCES_MNGR_DATE\",\"UF_PROCESS_TECH_DATE\",\"UF_INVOICE_NUM\",\"UF_INVOICE_DATE\",\"UF_INVOICE_SUM\",\"UF_INVOICE_ACPT_DATE\",\"UF_ACCOUNTING_DATE\",\"UF_PLAN_DATE\",\"UF_RESPONSIBLE_NAME\",\"UF_RESPONSIBLE_PHONE\",\"UF_STATUS\",\"UF_ACCEPTED_MANAGER\",\"UF_PROCESSED_MANAGER\",\"UF_PROCESSED_TECH\",\"UF_INVOICE_NAME\",\"UF_INVOICE_ACPT_NAME\",\"UF_ACCOUNTING_NAME\",\"UF_CONTRACTOR_CODE\",\"UF_INNER_CODE\",\"UF_CANCELED\",\"UF_PAUSED\",\"users\",\"messageSelect\",\"computed\",\"itemsByDate\",\"m\",\"i\",\"unix\",\"timestamp\",\"format\",\"mounted\",\"_this\",\"setInterval\",\"loadData\",\"each\",\"sticky\",\"stickyWrap\",\"scroll\",\"nsc\",\"document\",\"scrollTop\",\"bp1\",\"offset\",\"top\",\"bp2\",\"outerHeight\",\"height\",\"css\",\"addClass\",\"removeClass\",\"toggleClass\",\"slideToggle\",\"heightToBottomEdge\",\"innerHeight\",\"canSeeFooter\",\"absoluted\",\"watch\",\"messages\",\"oldMessages\",\"_this2\",\"setTimeout\",\"$el\",\"querySelector\",\"scrollHeight\",\"clientHeight\",\"methods\",\"_this3\",\"BX\",\"ajax\",\"runComponentAction\",\"mode\",\"then\",\"response\",\"unreadMsgIds\",\"UF_READ_USER_ID\",\"map\",\"offsetParent\",\"setMessagesRead\",\"$set\",\"console\",\"log\",\"_this4\",\"fileInput\",\"FormData\",\"append\",\"$refs\",\"textArea\",\"clear\",\"currentTarget\",\"getAttribute\",\"components_Chatvue_type_script_lang_js_\",\"componentNormalizer\",\"component\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-f5929552\"],{b301:function(t,e,s){\"use strict\";var a=s(\"d039\");t.exports=function(t,e){var s=[][t];return!s||!a((function(){s.call(null,e||function(){throw 1},1)}))}},c975:function(t,e,s){\"use strict\";var a=s(\"23e7\"),n=s(\"4d64\").indexOf,i=s(\"b301\"),c=[].indexOf,l=!!c&&1/[1].indexOf(1,-0)<0,r=i(\"indexOf\");a({target:\"Array\",proto:!0,forced:l||r},{indexOf:function(t){return l?c.apply(this,arguments)||0:n(this,t,arguments.length>1?arguments[1]:void 0)}})},e6b0:function(t,e,s){\"use strict\";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{},[t._m(0),s(\"div\",{staticClass:\"chat fixed active\"},[t._m(1),s(\"div\",{staticClass:\"chat-body\"},[s(\"div\",{staticClass:\"chat-content\"},t._l(t.itemsByDate,(function(e,a){return s(\"div\",{key:a,staticClass:\"chat-items\"},[s(\"div\",{staticClass:\"chat-date\"},[s(\"span\",[t._v(t._s(a))])]),t._l(e,(function(e){return s(\"div\",{key:e.ID,staticClass:\"chat-item\",class:{\"message-in\":e.UF_USER_ID!=t.userData.ID&&e.UF_USER_CODE!=t.userData.XML_ID,\"message-out\":e.UF_USER_ID==t.userData.ID||e.UF_USER_CODE==t.userData.XML_ID,selected:t.isSelected},attrs:{\"data-message\":e.UF_CODE},on:{click:function(s){return t.selectMessage(t.e,e)}}},[s(\"div\",{staticClass:\"sender-name color-text\"},[t._v(t._s([e.USER_LAST_NAME,e.NAME,e.USER_SECOND_NAME].filter((function(t){return t})).join(\" \")))]),s(\"div\",{staticClass:\"message-text\"},[t._v(\" \"+t._s(e.UF_TEXT)+\" \"),e.files&&e.files.length?s(\"div\",{staticClass:\"message-attach\"},t._l(e.files,(function(e){return s(\"div\",{key:e.id,staticClass:\"message-attach__item\"},[s(\"a\",{attrs:{href:e.src,target:\"_blank\"}},[t._v(t._s(e.filename))])])})),0):t._e()]),s(\"div\",{staticClass:\"message-time\"},[s(\"span\",[t._v(t._s(e.timeFormat))])])])}))],2)})),0),s(\"div\",{staticClass:\"chat-footer\"},[t._m(2),s(\"div\",{staticClass:\"messenger-staff-select\"},[s(\"label\",{attrs:{for:\"staff-select\"}},[t._v(\"Получатель:\")]),s(\"select\",{attrs:{name:\"staff-select\",id:\"staff-select\"}},[s(\"option\",{attrs:{value:\"\"}},[t._v(\"Выберите получателя\")]),t._l(this.users,(function(e){return s(\"option\",{key:e.ID,domProps:{value:e.XML_ID}},[t._v(t._s(e.NAME))])}))],2)]),t._m(3),s(\"div\",{staticClass:\"messenger-textarea-wrap\"},[s(\"div\",{staticClass:\"messenger-textarea\"},[s(\"editable\",{ref:\"textArea\",staticClass:\"messenger-textarea-input\",attrs:{content:t.text},on:{update:function(e){t.text=e},\"keyup-enter\":function(e){return t.addMessage()}}}),s(\"span\",{staticClass:\"messenger-placeholder\"},[t._v(\"Оставьте комментарий...\")])],1),t._m(4),s(\"input\",{staticStyle:{display:\"none\"},attrs:{id:\"chat-file\",multiple:\"\",type:\"file\"},on:{change:function(e){t.preparedFiles=e.target.files}}})]),s(\"div\",{staticClass:\"send-message\",on:{click:function(e){return e.preventDefault(),t.addMessage()}}},[s(\"img\",{attrs:{src:\"/local/templates/mossman2018/img/ico-send-chat.svg\",alt:\"\"}})]),t.preparedFiles.length?s(\"div\",{staticClass:\"messenger-prepared-files\"},t._l(t.preparedFiles,(function(e){return s(\"div\",{key:e.lastModified,staticClass:\"messenger-prepared-files\"},[t._v(\" \"+t._s(e.name)+\" \")])})),0):t._e()])])])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"chat-open-btn\"},[s(\"img\",{attrs:{src:\"/local/templates/mossman2018/img/ico-chat.svg\",alt:\"\"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"chat-header\"},[s(\"div\",{staticClass:\"chat-title\"},[t._v(\"Комментарии\")]),s(\"div\",{staticClass:\"chat-btn\"},[s(\"div\",{staticClass:\"chat-toggle\"},[s(\"img\",{attrs:{src:\"/local/templates/mossman2018/img/ico-toggle-chat.svg\",alt:\"\"}})]),s(\"div\",{staticClass:\"chat-close\"},[s(\"img\",{attrs:{src:\"/local/templates/mossman2018/img/ico-close-chat.svg\",alt:\"\"}})])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"messenger-subject messenger-reply\"},[s(\"label\",{attrs:{for:\"messenger-reply\"}},[t._v(\"Первичное сообщение:\")]),s(\"input\",{attrs:{type:\"text\",id:\"messenger-reply\",name:\"messenger-reply\",placeholder:\"Нажмите на сообщение для его выбора\",disabled:\"\"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"messenger-subject\"},[s(\"label\",{attrs:{for:\"messenger-subject-text\"}},[t._v(\"Тема сообщения:\")]),s(\"input\",{attrs:{type:\"text\",id:\"messenger-subject-text\",name:\"messenger-subject-text\",placeholder:\"Напишите тему сообщения\"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"label\",{staticClass:\"send-photo\",attrs:{for:\"chat-file\"}},[s(\"img\",{attrs:{src:\"/local/templates/mossman2018/img/ico-photo-chat.svg\",alt:\"\"}})])}],i=(s(\"c975\"),s(\"d81d\"),s(\"a9e3\"),s(\"d3b7\"),s(\"ddb0\"),s(\"c1df\")),c=s.n(i);c.a.locale(\"ru\"),window.moment=c.a;var l={name:\"Chat\",props:{claimId:{type:Number,default:0},orderId:{type:Number,default:0},userData:{type:Object,default:function(){return{}}}},data:function(){return{preparedFiles:[],items:[],text:\"\",values:{UF_TYPE:\"\",UF_CONTRACTOR:\"\",UF_PRIMARY_ORDER:\"\",UF_3CAD_SERVER_NUM:\"\",UF_3CAD_SERVER_DATE:\"\",UF_MODEL:\"\",UF_SHIPMENT_ADDRESS:\"\",UF_TRANSPORT_COMPANY:\"\",UF_COMMENT:\"\",UF_FACTORY_TITLE:\"\",UF_SUM:\"\",UF_ACCEPT_MNGR_DATE:\"\",UF_PROCES_MNGR_DATE:\"\",UF_PROCESS_TECH_DATE:\"\",UF_INVOICE_NUM:\"\",UF_INVOICE_DATE:\"\",UF_INVOICE_SUM:\"\",UF_INVOICE_ACPT_DATE:\"\",UF_ACCOUNTING_DATE:\"\",UF_PLAN_DATE:\"\",UF_RESPONSIBLE_NAME:\"\",UF_RESPONSIBLE_PHONE:\"\",UF_STATUS:\"\",UF_ACCEPTED_MANAGER:\"\",UF_PROCESSED_MANAGER:\"\",UF_PROCESSED_TECH:\"\",UF_INVOICE_NAME:\"\",UF_INVOICE_ACPT_NAME:\"\",UF_ACCOUNTING_NAME:\"\",UF_CONTRACTOR_CODE:\"\",UF_INNER_CODE:\"\",UF_CANCELED:0,UF_PAUSED:0},users:\"\",messageSelect:\"\",selected:void 0}},computed:{itemsByDate:function(){for(var t,e,s,a={},n=0;n<this.items.length;n++)t=this.items[n],e=c.a.unix(t.timestamp),s=e.format(\"DD MMMM YYYY\"),a[s]||(a[s]=[]),t.timeFormat=e.format(\"HH:mm\"),a[s].push(t);return a}},mounted:function(){var t=this;setInterval((function(){t.loadData()}),5e3),$(\".lc-cont\").each((function(){var t=$(\".chat-open-btn\"),e=$(\".lc-cont\");$(window).scroll((function(){var s=$(document).scrollTop(),a=e.offset().top,n=a+e.outerHeight()-$(window).height();s>a?(t.css(\"position\",\"fixed\"),t.addClass(\"fixed\")):(t.css(\"position\",\"absolute\"),t.css(\"top\",\"0 !important\"),t.removeClass(\"fixed\")),s>n?t.css(\"top\",n-s):t.css(\"top\",\"245px\")}))})),$(\".chat-open-btn\").on(\"click\",(function(){$(\".chat\").toggleClass(\"active\")})),$(\".chat-close\").on(\"click\",(function(){$(\".chat\").removeClass(\"active\")})),$(\".chat-toggle\").on(\"click\",(function(){$(\".chat-body\").slideToggle()})),$(window).scroll((function(){var t=$(window).scrollTop()+window.innerHeight,e=t>$(\".footer\").offset().top;e&&!window.absoluted&&($(\".chat\").toggleClass(\"absolute\"),$(\".chat\").toggleClass(\"fixed\"),window.absoluted=!0),!e&&window.absoluted&&($(\".chat\").toggleClass(\"absolute\"),$(\".chat\").toggleClass(\"fixed\"),window.absoluted=!1)}))},watch:{items:function(t,e){var s=this;t.length!=e.length&&setTimeout((function(){s.$el.querySelector(\".chat-content\").scrollTop=s.$el.querySelector(\".chat-content\").scrollHeight-s.$el.querySelector(\".chat-content\").clientHeight}),300)}},methods:{loadData:function(){var t=this;BX.ajax.runComponentAction(\"xpage:ajax\",\"chatLoadData\",{mode:\"class\",data:{claimId:this.claimId,orderId:this.orderId}}).then((function(e){if(e.data){if(e.data.items&&e.data.items.length){for(var s=[],a=e.data.items,n=0;n<a.length;n++)a[n].UF_READ_USER_ID&&(a[n].UF_READ_USER_ID=a[n].UF_READ_USER_ID.map((function(t){return+t}))),a[n].UF_READ_USER_ID&&~a[n].UF_READ_USER_ID.indexOf(+t.userData.ID)||s.push(a[n].ID);t.items=a,s.length&&document.querySelector(\".chat-body\").offsetParent&&t.setMessagesRead(s)}t.$set(t,\"values\",e.data.values),\"Рекламация\"==t.values.UF_TYPE?BX.ajax.runComponentAction(\"xpage:ajax\",\"getStaffList\",{mode:\"class\",data:{filter:\"Менеджер рекламационного отдела\"}}).then((function(e){e.data&&(t.users=e.data.users)})):null==t.values.UF_TYPE?BX.ajax.runComponentAction(\"xpage:ajax\",\"getStaffList\",{mode:\"class\",data:{filter:\"Ответственный по запросам\"}}).then((function(e){e.data&&(t.users=e.data.users,console.log(t.users))})):BX.ajax.runComponentAction(\"xpage:ajax\",\"getStaffList\",{mode:\"class\",data:{filter:\"Менеджер\"}}).then((function(e){e.data&&(t.users=e.data.users)}))}}))},setMessagesRead:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.length&&BX.ajax.runComponentAction(\"xpage:ajax\",\"chatSetMessagesRead\",{mode:\"class\",data:{id:t}}).then((function(t){}))},addMessage:function(){var t=this,e=this.$el.querySelector(\"#chat-file\"),s=new FormData;if(s.append(\"orderId\",this.orderId),s.append(\"claimId\",this.claimId),s.append(\"text\",this.text),e.files&&e.files.length)for(var a=0;a<e.files.length;a++)s.append(\"file[]\",e.files[a]);BX.ajax.runComponentAction(\"xpage:ajax\",\"chatAddMessage\",{mode:\"class\",data:s}).then((function(s){t.text=\"\",t.loadData(),t.$refs.textArea.clear(),t.preparedFiles=[],e.value=\"\"}))},selectMessage:function(t,e){this.messageSelect=t.currentTarget.getAttribute(\"data-message\"),this.selected=e.ID,console.log(this.selected)}}},r=l,o=s(\"2877\"),d=Object(o[\"a\"])(r,a,n,!1,null,null,null);e[\"default\"]=d.exports}}]);","extractedComments":[]}